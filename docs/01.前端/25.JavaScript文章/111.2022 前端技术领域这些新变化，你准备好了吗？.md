# 2022 前端技术领域这些新变化，你准备好了吗？

注：以下只是个人比较熟悉的部分，在浩瀚的前端世界，只是沧海一粟。

# Monorepo

- Monorepo 成标配，pnpm 会有更广泛的应用。

Why should we use pnpm?[

- webstorm、vscode 对 monorepo 更好的支持。现在的混合技术栈多少支持有一些问题。

  - 例如在 webstorm 里，一个目录的 linter，使用 eslint 还是用 deno 的lint，还是其他的 lint，是比较难配置的。
  - 例如在 webstorm 里，一个目录的 ts 语言服务，是用 tsc 还是 deno。
  - 简单说以 monorepo 的一个子目录去选择对应的环境配置，是一个需求。
    

# TypeScript

- 越来越多的项目选择 TypeScript。
- TypeScript 帮助 JavaScript 世界的整体编程能力往前走了一大步，怎么感谢 Anders Hejlsberg 都不过分。他已经六十多了，还在写代码。


# Deno

- Deno 开始在 cli 脚本和serverless 方面展露头脚。

- Deno 在传统生产项目上和 Node 仍然不会有太大的冲突。但是 Deno 在用 TS 写脚本方面，对比 Node.js 是有优势的。这一点优势应该最大化利用。

  - Deno 的依赖是不会污染 Npm 的，因为本身和 NPM 正交。随着项目的复杂，没人希望污染主项目。

  - 实际上，Deno 非常适合把开发依赖都控制起来。

  - Deno 非常适合制作 cli，且用 cli 来抹平 NPM 和 Deno 世界的最后一公里。

    - 虽然目前 Deno 的 swc 有各种问题，使用 bundle+compile 目前还有很多问题。
  
## cac#with-deno[

Deno 和 Node.js 世界开始融合。

- 实际上，现在一大不太好融合的点，反而是 Node.js 的 ESM 问题。理论上 ESM 以后，一份 TypeScript 代码同时对 Node.js、deno、browser 变的简单了。

- 随着 Deno 1.0 的 API 稳定，会产生一些 Deno 和 Node 的兼容层项目产生。实际上就是把双方的 API 做一个映射。

    - 如果有了这个兼容层，在完全使用 ESM 的情况下，主要的区别就可以慢慢退化到项目入口的包管理方式
        - NPM 是 package.json
        - Deno 是 import_map 和手动声明 http_import
    - 实际上，还有一些区别
        - Deno 的 TypeScript 的版本，实际总比流行版本慢一些，且参数是主 TypeScript 的参数的一个子集，且一些参数不能更改。
        - Deno 试图把一个编译型语言 TypeScript 变成一个像 JavaScript 一样的即时解释型语言，但是 TypeScript 写的复杂了，编译还是比较慢的。这一块会有什么问题，暂时未知。
  

# Node.js

Node.js 的 TypeScript 世界开始 ESM 化，这个要看 4.6

Concerns with TypeScript 4.5's Node 12+ ESM Support #46452
