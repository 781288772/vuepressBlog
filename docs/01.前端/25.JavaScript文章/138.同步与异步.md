同步与异步

讲到执行，那我们就要先讲到javascript里面经常提到的同步与异步啦。那么什么是同步？什么又是异步呢？

同步与异步的定义

我们传统意义上的同步是指两个或两个以上的事物随时间变化的量在变化过程中保持一定的相对关系，那么这些事物就算是同步，但是显然，我们在javascript里面所讲的同步就不是这个概念了，javascript里面，一个进程在执行某个请求的时候，若该请求需要一段时间才能返回信息，那么这个进程将会一直等待下去，直到收到返回信息才继续执行下去，这样就称为同步，同步代码会按照一定的顺序去执行；

异步就是进程不需要一直等下去，而是继续执行下面的操作，不管其他进程的状态。当有消息返回时系统会通知进程进行处理，异步在一定程度上能够大大提高代码执行的效率，但是这样讲应该还是比较晦涩难懂，那不妨往下看看异步是如何实现的。

如何实现异步？

    实现异步的方法很多，常用的有以下几种：

      1、使用setTimeout方法；
      2、使用setImmediate 方法；
      3、使用requestAnimationFrame方法；

接下来我就简单带着大家用setTimeout方法去实现异步：

```
function a(){
    console.log('aaa');
}

function b(){
    setTimeout(() => {
        console.log('bbb');
    },1000);
}

function c(){
    console.log('ccc');
}

a();
b();
c();

```

正常来说，当a()函数被调用结束后，应该是b()函数被调用，而b函数里应该是先执行完定时器setTimeout函数里面的console.log('bbb')再去调用最后一个函数c();

可是可以看到我们console.log打印出来的顺序是aaa->ccc->bbb;这说明什么？是b（）函数在c（）函数后面执行吗？错！不是，是当执行到setTimeout定时器函数时，定时器延时1s才开始执行里面的内容，所以浏览器默认往下继续执行，实际上定时器确实是已经执行过了，只不过延时了，那么c()函数就相当于变相的提前了，这就是异步；

如何解决异步？

如果我们就要c函数在b函数后面执行，那么有去除异步的办法吗？答案是有的；在E6之前我们是通过回调的方式去调用函数，来控制函数执行的先后顺序；

```javascript
unction a(){
    console.log('aaa');
}

function b(cb){
    setTimeout(() => {
        console.log('bbb');
        cb();
    },1000);
}

function c(){
    console.log('ccc');
}

a();
b(c);   

```

在此，我们在原代码的基础上去做修改，把c函数放在b函数内进行调用，从而回调，让c函数达到在b函数的后面执行的效果。

回调地狱

但是值得注意的是，回调函数嵌套过多，代码逻辑过于复杂就容易造成回调地狱；那么什么是回调地狱呢？假如说我们存在很多个函数，而c函数放在b函数里执行，d函数在c函数里面执行，e函数在d函数里面执行，以此类推，一直这样回调，那么回调函数就会形成一个回调链，而执行上下文的内存无法得到释放，一旦到了一个极限，就会形成回调地狱。

所以我不推荐使用回调去达到去除异步的效果，接下来我会带大家去看另外一个方法：promise方法。